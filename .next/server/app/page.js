(()=>{var e={};e.id=974,e.ids=[974],e.modules={359:(e,s,t)=>{"use strict";t.d(s,{Ef:()=>o,R2:()=>n,lu:()=>l,tl:()=>c});let r="http://localhost:5000/api",a=()=>null,i=async(e,s={})=>{let t=a(),i={"Content-Type":"application/json",...s.headers};t&&(i.Authorization=`Bearer ${t}`);let n=await fetch(`${r}${e}`,{...s,headers:i});if(!n.ok)throw Error((await n.json()).error||"API request failed");return n.json()},n={register:e=>i("/auth/register",{method:"POST",body:JSON.stringify(e)}),login:e=>i("/auth/login",{method:"POST",body:JSON.stringify(e)}),sendOTP:e=>i("/auth/send-otp",{method:"POST",body:JSON.stringify(e)}),verifyOTP:e=>i("/auth/verify-otp",{method:"POST",body:JSON.stringify(e)}),loginWithOTP:e=>i("/auth/login-otp",{method:"POST",body:JSON.stringify(e)}),loginWithOAuth:e=>i(`/auth/${e}`,{method:"GET"}),resetPassword:e=>i("/auth/reset-password",{method:"POST",body:JSON.stringify(e)}),changePassword:e=>i("/auth/change-password",{method:"POST",body:JSON.stringify(e)}),sendVerificationEmail:e=>i("/auth/send-verification",{method:"POST",body:JSON.stringify({email:e})}),verifyEmail:e=>i("/auth/verify-email",{method:"POST",body:JSON.stringify({token:e})})},o={getAll:(e={})=>{let s=new URLSearchParams(e);return i(`/posts?${s}`)},getById:e=>i(`/posts/${e}`),create:e=>i("/posts",{method:"POST",body:JSON.stringify(e)}),createWithImages:async(e,s)=>{let t=a(),i=new FormData;Object.keys(e).forEach(s=>{null!==e[s]&&void 0!==e[s]&&(Array.isArray(e[s])?i.append(s,e[s].join(",")):i.append(s,e[s]))}),s&&s.length>0&&s.forEach(e=>{i.append("images",e)});let n=await fetch(`${r}/posts`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:i});if(!n.ok)throw Error((await n.json()).error||"API request failed");return n.json()},update:(e,s)=>i(`/posts/${e}`,{method:"PUT",body:JSON.stringify(s)}),delete:e=>i(`/posts/${e}`,{method:"DELETE"}),like:e=>i(`/posts/${e}/like`,{method:"POST"}),unlike:e=>i(`/posts/${e}/unlike`,{method:"DELETE"}),save:e=>i(`/posts/${e}/save`,{method:"POST"}),unsave:e=>i(`/posts/${e}/unsave`,{method:"DELETE"})},l={getProfile:()=>i("/users/profile"),updateProfile:e=>i("/users/profile",{method:"PUT",body:JSON.stringify(e)}),saveProfileWizard:e=>i("/users/profile-wizard",{method:"POST",body:JSON.stringify(e)}),getUserPosts:()=>i("/users/posts"),getUserById:e=>i(`/users/${e}`),uploadAvatar:async e=>{let s=a(),t=new FormData;t.append("avatar",e);let i=await fetch(`${r}/users/avatar`,{method:"POST",headers:{Authorization:`Bearer ${s}`},body:t});if(!i.ok)throw Error((await i.json()).error||"API request failed");return i.json()}},c={getConversations:()=>i("/messages/conversations"),getMessages:e=>i(`/messages/conversations/${e}`),sendMessage:(e,s)=>i(`/messages/conversations/${e}`,{method:"POST",body:JSON.stringify({content:s})}),createConversation:(e,s)=>i("/messages/conversations",{method:"POST",body:JSON.stringify({postId:e,otherUserId:s})}),markAsRead:e=>i(`/messages/${e}/read`,{method:"PUT"})}},597:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\anany\\\\Downloads\\\\roomsync\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\anany\\Downloads\\roomsync\\app\\page.tsx","default")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},933:(e,s,t)=>{Promise.resolve().then(t.bind(t,597))},1009:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,6444,23)),Promise.resolve().then(t.t.bind(t,6042,23)),Promise.resolve().then(t.t.bind(t,8170,23)),Promise.resolve().then(t.t.bind(t,9477,23)),Promise.resolve().then(t.t.bind(t,9345,23)),Promise.resolve().then(t.t.bind(t,2089,23)),Promise.resolve().then(t.t.bind(t,6577,23)),Promise.resolve().then(t.t.bind(t,1307,23))},2366:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(7413);function a(){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen text-center px-4",children:[(0,r.jsx)("h1",{className:"text-5xl md:text-5xl font-semibold text-gray-100",children:"404"}),(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold mt-6",children:"This page has not been generated"}),(0,r.jsx)("p",{className:"mt-4 text-xl md:text-2xl text-gray-500",children:"Tell me what you would like on this page"})]})}},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3192:(e,s,t)=>{Promise.resolve().then(t.bind(t,3304))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3304:(e,s,t)=>{"use strict";t.d(s,{AuthProvider:()=>a});var r=t(2907);(0,r.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\anany\\Downloads\\roomsync\\app\\contexts\\AuthContext.js","useAuth");let a=(0,r.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\anany\\Downloads\\roomsync\\app\\contexts\\AuthContext.js","AuthProvider")},3873:e=>{"use strict";e.exports=require("path")},4085:(e,s,t)=>{Promise.resolve().then(t.bind(t,6527))},4966:(e,s,t)=>{"use strict";t.d(s,{A:()=>o,AuthProvider:()=>l});var r=t(687),a=t(3210),i=t(359);let n=(0,a.createContext)(),o=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},l=({children:e})=>{let[s,t]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=localStorage.getItem("token"),s=localStorage.getItem("user");if(e&&s)try{t(JSON.parse(s))}catch(e){console.error("Error parsing user data:",e),localStorage.removeItem("token"),localStorage.removeItem("user")}l(!1)},[]);let c=async(e,s,r="email")=>{try{let a;return a="phone"===r?await i.R2.loginWithOTP({phone:e,otp:s}):await i.R2.login({email:e,password:s}),localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),t(a.user),{success:!0}}catch(e){return{success:!1,error:e.message}}},d=async e=>{try{let s=await i.R2.register(e);return localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),t(s.user),{success:!0}}catch(e){return{success:!1,error:e.message}}},m=async e=>{try{let s=await i.R2.loginWithOAuth(e);return localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),t(s.user),{success:!0}}catch(e){return{success:!1,error:e.message}}},x=async e=>{try{return await i.R2.sendOTP({phone:e}),{success:!0}}catch(e){return{success:!1,error:e.message}}},h=async(e,s)=>{try{let t=await i.R2.verifyOTP({phone:e,otp:s});return{success:!0,data:t}}catch(e){return{success:!1,error:e.message}}},u=async e=>{try{return await i.R2.resetPassword({email:e}),{success:!0}}catch(e){return{success:!1,error:e.message}}},p=async(e,s)=>{try{return await i.R2.changePassword({oldPassword:e,newPassword:s}),{success:!0}}catch(e){return{success:!1,error:e.message}}};return(0,r.jsx)(n.Provider,{value:{user:s,loading:o,login:c,register:d,loginWithOAuth:m,sendOTP:x,verifyOTP:h,resetPassword:u,changePassword:p,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t(null)},isAuthenticated:!!s},children:e})}},6487:()=>{},6527:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(687),a=t(5814),i=t.n(a),n=t(3210);function o(){let[e,s]=(0,n.useState)([]),[t,a]=(0,n.useState)(!0),[o,l]=(0,n.useState)("");return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen bg-lemon-100",children:[(0,r.jsx)("header",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-sm z-50 px-4 py-3 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-wisteria-400 to-wisteria-500 rounded-full flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-home-heart-fill text-white text-sm"})}),(0,r.jsx)("h1",{className:"text-xl font-bold text-wisteria-700",style:{fontFamily:"var(--font-pacifico)"},children:"RoomSync"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("button",{className:"w-8 h-8 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-search-line text-wisteria-600 text-lg"})}),(0,r.jsx)("button",{className:"w-8 h-8 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-notification-line text-wisteria-600 text-lg"})})]})]})}),(0,r.jsxs)("main",{className:"flex-1 pt-16 pb-20",children:[(0,r.jsxs)("div",{className:"px-4 py-6",children:[(0,r.jsx)("div",{className:"grid grid-cols-4 gap-3",children:[{icon:"ri-home-heart-line",title:"Find Room",color:"bg-gradient-to-br from-pink-200 to-pink-300",link:"/rooms"},{icon:"ri-group-line",title:"Find Roommate",color:"bg-gradient-to-br from-blue-200 to-blue-300",link:"/create-post"},{icon:"ri-arrow-left-right-line",title:"Room Swap",color:"bg-gradient-to-br from-purple-200 to-purple-300",link:"/swap"},{icon:"ri-chat-3-line",title:"Messages",color:"bg-gradient-to-br from-green-200 to-green-300",link:"/messages"}].map((e,s)=>(0,r.jsx)(i(),{href:e.link,className:"block",children:(0,r.jsxs)("div",{className:`${e.color} rounded-lg aspect-square flex flex-col items-center justify-center shadow-sm hover:shadow-md transition-shadow`,children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsx)("i",{className:`${e.icon} text-wisteria-700 text-lg`})}),(0,r.jsx)("p",{className:"text-xs font-medium text-wisteria-700",children:e.title})]})},s))}),(0,r.jsxs)("div",{className:"mt-6 text-center",children:[(0,r.jsxs)(i(),{href:"/profile-wizard",className:"inline-flex items-center space-x-2 px-6 py-3 bg-wisteria-500 text-white rounded-xl font-medium hover:bg-wisteria-600 transition-colors",children:[(0,r.jsx)("i",{className:"ri-user-settings-line"}),(0,r.jsx)("span",{children:"Complete Your Profile"})]}),(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsxs)(i(),{href:"/matches",className:"inline-flex items-center space-x-2 px-6 py-3 bg-lemon-300 text-wisteria-700 rounded-xl font-medium hover:bg-lemon-400 transition-colors",children:[(0,r.jsx)("i",{className:"ri-heart-line"}),(0,r.jsx)("span",{children:"Find Your Matches"})]})})]})]}),(0,r.jsx)("div",{className:"px-4 space-y-4",children:t?(0,r.jsx)("div",{className:"text-center text-gray-500 py-8",children:"Loading posts..."}):o?(0,r.jsx)("div",{className:"text-center text-red-500 py-8",children:o}):0===e.length?(0,r.jsx)("div",{className:"text-center text-gray-500 py-8",children:"No posts yet. Be the first to create a post!"}):e.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[(0,r.jsx)("div",{className:"px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("img",{src:e.avatar_url||"/default-avatar.png",alt:e.name||"User",className:"w-10 h-10 rounded-full object-cover"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("span",{className:"font-semibold text-wisteria-700 text-sm",children:e.full_name||"User"}),e.verified&&(0,r.jsx)("i",{className:"ri-verified-badge-fill text-blue-500 text-xs"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleString("en-IN")})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"roommate"===e.type?"bg-wisteria-200 text-wisteria-700":"room"===e.type?"bg-lemon-200 text-wisteria-700":"bg-wisteria-100 text-wisteria-700"}`,children:"roommate"===e.type?"Roommate":"room"===e.type?"Room":"Swap"}),(0,r.jsx)("button",{className:"w-6 h-6 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-more-line text-gray-400"})})]})]})}),(0,r.jsxs)("div",{className:"px-4 pb-3",children:[(0,r.jsx)("h3",{className:"text-wisteria-700 font-semibold text-sm mb-2",children:e.title||"Untitled Post"}),(0,r.jsx)("p",{className:"text-wisteria-700 text-sm mb-3",children:e.description||"No description"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("i",{className:"ri-map-pin-line"}),(0,r.jsx)("span",{children:e.location||"Location not specified"})]}),e.price&&(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("i",{className:"ri-price-tag-3-line"}),(0,r.jsxs)("span",{className:"font-medium",children:["â‚¹",e.price]})]})]})]}),e.images&&e.images.length>0&&(0,r.jsx)("div",{className:"px-4 pb-3",children:1===e.images.length?(0,r.jsx)("img",{src:e.images[0].startsWith("http")?e.images[0]:`http://localhost:5000${e.images[0]}`,alt:"Room",className:"w-full h-48 object-cover rounded-xl",onError:e=>{e.currentTarget.style.display="none"}}):(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[e.images.slice(0,4).map((e,s)=>(0,r.jsx)("img",{src:e.startsWith("http")?e:`http://localhost:5000${e}`,alt:`Room ${s+1}`,className:"w-full h-24 object-cover rounded-lg",onError:e=>{e.currentTarget.style.display="none"}},s)),e.images.length>4&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:e.images[3].startsWith("http")?e.images[3]:`http://localhost:5000${e.images[3]}`,alt:"Room",className:"w-full h-24 object-cover rounded-lg",onError:e=>{e.currentTarget.style.display="none"}}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-white text-sm font-medium",children:["+",e.images.length-4]})})]})]})}),(0,r.jsx)("div",{className:"px-4 py-3 border-t border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsxs)("button",{className:"flex items-center space-x-1",children:[(0,r.jsx)("i",{className:"ri-heart-line text-gray-600 text-lg"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:e.likes||0})]}),(0,r.jsxs)("button",{className:"flex items-center space-x-1",children:[(0,r.jsx)("i",{className:"ri-chat-1-line text-gray-600 text-lg"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:e.comments||0})]}),(0,r.jsx)(i(),{href:"/messages",className:"flex items-center space-x-1",children:(0,r.jsx)("i",{className:"ri-send-plane-line text-gray-600 text-lg"})})]}),(0,r.jsx)("button",{className:"flex items-center space-x-1",children:(0,r.jsx)("i",{className:`${e.saved?"ri-bookmark-fill text-wisteria-600":"ri-bookmark-line text-gray-600"} text-lg`})})]})})]},e.id))})]}),(0,r.jsx)("nav",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 z-50",children:(0,r.jsxs)("div",{className:"grid grid-cols-5 h-16",children:[(0,r.jsxs)(i(),{href:"/",className:"flex flex-col items-center justify-center space-y-1",children:[(0,r.jsx)("i",{className:"ri-home-5-fill text-wisteria-600 text-lg"}),(0,r.jsx)("span",{className:"text-xs text-wisteria-600 font-medium",children:"Home"})]}),(0,r.jsxs)(i(),{href:"/rooms",className:"flex flex-col items-center justify-center space-y-1",children:[(0,r.jsx)("i",{className:"ri-search-line text-gray-400 text-lg"}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"Discover"})]}),(0,r.jsxs)(i(),{href:"/create-post",className:"flex flex-col items-center justify-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-wisteria-500 rounded-full flex items-center justify-center mb-1",children:(0,r.jsx)("i",{className:"ri-add-line text-white text-lg"})}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"Post"})]}),(0,r.jsxs)(i(),{href:"/messages",className:"flex flex-col items-center justify-center space-y-1",children:[(0,r.jsx)("i",{className:"ri-chat-3-line text-gray-400 text-lg"}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"Messages"})]}),(0,r.jsxs)(i(),{href:"/profile",className:"flex flex-col items-center justify-center space-y-1",children:[(0,r.jsx)("i",{className:"ri-user-line text-gray-400 text-lg"}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"Profile"})]})]})})]})}t(359)},6744:(e,s,t)=>{Promise.resolve().then(t.bind(t,4966))},7633:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,6346,23)),Promise.resolve().then(t.t.bind(t,7924,23)),Promise.resolve().then(t.t.bind(t,5656,23)),Promise.resolve().then(t.t.bind(t,99,23)),Promise.resolve().then(t.t.bind(t,8243,23)),Promise.resolve().then(t.t.bind(t,8827,23)),Promise.resolve().then(t.t.bind(t,2763,23)),Promise.resolve().then(t.t.bind(t,7173,23))},8014:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x,metadata:()=>m});var r=t(7413),a=t(5508),i=t.n(a),n=t(260),o=t.n(n),l=t(3298),c=t.n(l);t(2704);var d=t(3304);let m={title:"RoomSync - Find Your Perfect Roommate",description:"Connect with students to find roommates, rooms, and room swaps"};function x({children:e}){return(0,r.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,r.jsx)("body",{className:`${o().variable} ${c().variable} ${i().variable} antialiased`,children:(0,r.jsx)(d.AuthProvider,{children:e})})})}},8335:()=>{},8694:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=t(5239),a=t(8088),i=t(8170),n=t.n(i),o=t(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,597)),"C:\\Users\\anany\\Downloads\\roomsync\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,8014)),"C:\\Users\\anany\\Downloads\\roomsync\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,2366)),"C:\\Users\\anany\\Downloads\\roomsync\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"]}],d=["C:\\Users\\anany\\Downloads\\roomsync\\app\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[285,814],()=>t(8694));module.exports=r})();